#!/usr/bin/env perl ../scripts/generate-schema.pl
---
Fields All:     # every table gets these
  - name: id
  - name: created
  - name: modified
  - name: archived
    type: boolean
    def: 0
    
Tables:         # table specific columns
  - Name: sources
    Fields:
      - name: name
      - name: base_url
  
  - Name: recipes
    Fields:
      - name: source_id
        type: source.id
      
    

  - Name: users
    Fields:
      - name: username
      - name: password
        type: char(40)
      - name: email
      - name: info
      - exclude: position
      
  - Name: assets
    Fields:
      - name: file_name
      - name: url
      - name: mime_type
      - name: file_size
        type: int(10)
      - exclude: position
        
  - Name: homes
    Fields:
      - name: headline
      - name: subheadline
      - name: background
        type: asset.id
        index: true
      - name: featured_1
        type: assset.id
        index: true
      - name: featured_2
        type: asset.id
        index: true
      - exclude: position
      
        
  - Name: sections
    Fields:
      - name: home_id
        type: home.id
      - name: title
      - name: crumb
      - name: headline
      - name: abstract
        type: text
      - name: calendar
        type: boolean
        def: 0
      - name: description
        type: text
      - name: icon
        type: asset.id
      - name: background
        type: asset.id
        
  - Name: subsections
    Fields: 
      - name: section_id
        type: section.id
      - name: title
      - name: crumb
      - name: headline
      - name: abstract
        type: text
      - name: description
        type: text
        
  - Name: contents
    Fields:
      - name: subsection_id
      - name: title
      - name: abstract
      - name: content_type_id
        type: content_types.id
      #- name: icon
      #  type: asset.id
      - name: file
        type: asset.id
        
  - Name: content_types
    Fields:
      - name: key
      - name: description
        type: text
      - name: icon
        type: asset.id
      - name: search_icon
        type: asset.id
      - exclude: position
      - exclude: archived
  
  - Name: events
    Fields:
      - name: section_id
        type: section.id
      - name: title
      - name: headline
      - name: description
        type: text
      - name: auto_archive
        type: boolean
        def: 1
      - name: multi_day
        type: boolean
        def: 0
      - name: all_day
        type: boolean
        def: 0
      - name: start_date
      - name: end_date
      - name: start_time
        type: time
      - name: end_time
        type: time
      - exclude: position